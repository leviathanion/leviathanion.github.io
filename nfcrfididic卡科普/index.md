# NFC,RFID,ID,IC卡科普

# NFC,RFID,IC,ID科普
## RFID
* RFID是(Radio Frequency Identification)射频识别技术的缩写，一般用来在读卡器和标签之间通信。
* RFID中，读卡器和标签是独立的两个实体，不能切换。不支持点对点
* 频率可高可低,低频(125KHz,135Khz),高频(13.56MHz),超高频（860MHz到960MHz)
* 频段不同，导致功率不同，导致传输的距离不同。
* 按照有无电源，标签可分为
    * 有源:可能含纽扣电池
    * 无源:无电源
    * 半有源:在多数情况下处于休眠状态，不工作不向外界发出RFID信号，只有在其进入低频激活器的激活信号范围时，标签被激活后，才开始工作。

## NFC
* NFC是(Near Field Communicatio)近距离无线通信的缩写，是一种**基于RFID技术的近距离高频率**无线电通信技术。
* NFC是RFID的子集。
* NFC可以有三种模式，模拟卡（标签）、模拟读卡器、点对点。
* 通信距离10cm左右
* 工作频率13.56MHz，属于高频率
* 传输速率106kbps,212kbps,424kbps三个速率中的一个

## ID卡
* ID卡是(Identification Card)的缩写，主要进行身份识别
* 容量有限，只能存储卡号
* 无加密，可以被轻松复制
* 频率一般为125KHz，可以使用proxmark3读写

## IC卡
* IC卡是(Integrated Circuit Card)集成电路卡的缩写，里面含有集成电路
* 分为接触式和非接触式IC卡。
    * 接触式指银行卡类似，需要接触才能读卡
    * 非接触式指饭卡水卡等
* 容量较大，一般为1k，当然也有2k,4k的容量，CPU卡可达8k
* 1K卡可以存储1024个字节的数据,总共拥有**16个扇区**
* 每个扇区拥有**4个块**,每个块存储**16个字节**的数据
* 0扇区的0块和每个扇区的最后一块比较特殊
    * 0扇区的0块的**前4个字节是这个卡的uid号，全球唯一，不管是否加密，均可以读取**
    * 0扇区的0块后四个字节是**厂商码，不同的厂商不同，使用手环/手机模拟的厂商码会被锁死，不能修改，不能通过较为严格的读卡器**
    * 每个扇区的3块包含三个部分:keyA,控制位,keyB,如果没有密码,前后六位都会是F
* 根据零扇区零块的不同，可以分为以下卡,一般M1为我们日常使用的卡，CUID为我们复制用的卡
    * M1:0扇区0块写死无法更改
    * UID:零扇区零块可用电脑和专门工具修改
    * CUID:零扇区零块可用NFC修改
    * FUID:零扇区零块仅可以写入一次
    * UFUID:零扇区零块块可任意写入，但也可以被手动锁定，锁定后无法修改
* IC卡各个扇区都可能被加密，加密的扇区需要使用破解才能复制

## 如何判断IC卡和ID卡
* IC卡为方形线圈，ID卡为圆形线圈
* 使用NFC手机读取，如果有反应一般是13.56MHz的IC卡，否则是ID卡或其他频率IC卡

## CPU卡
* CPU卡的加密性能最好,集成了CPU，ROM，RAM，微型操作系统(COS),用户数据存储器(EEPROM)
* 一般用于校园卡，银行卡，身份证等
* 最大容量128kB

## CPU模拟M1卡
* 使用CPU模拟的M1卡，难以破解

## MIFARE Classic Tool使用指南
* 读取标签后，点击工具，可查看卡的SAK号
    * 08代表M1卡
    * 20代表CPU卡
    * 28代表CPU模拟M1卡
* 08卡可以被破解，28卡看运气
* 点击读卡可查看扇区，
    * 全部显示出来，则无加密，可以直接使用手机读取和模拟
    * 有部分未加密，需要使用密钥破解或者PCR532来破解

## 总结
* IC卡可使用PN532和PCR532(PN532的升级款)来读取，使用CUID卡来模拟
* 加密IC卡需要密钥，暴力破解，或者使用变色龙来破解密钥
* ID卡可使用PM3来读取，使用可读写的ID卡来模拟


